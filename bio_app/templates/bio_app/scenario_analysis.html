{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Scenario Analysis - Biomass Residue Stream Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Delve into our Scenario Analysis for effective biomass residue stream management. Utilize Sankey Diagrams and MCA Analysis to optimize valorization pathways and enhance regional sustainability."
    />
    <img
      alt="Logo"
      src="https://appproject.dhiwise.com/dhiwise-logo.png?c=&v="
      style="width: 0px; height: 0px; display: none"
    />
    <link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/font.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/components.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/FScenarioAnalysisselected.css' %}" />
     <!-- Add Bootstrap CSS via CDN -->
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chart.js Sankey Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-sankey"></script>
    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<style>

/* CSS for Sankey chart (unchanged except for added padding) */
.chart-container {
  position: relative;
  height: 500px;  /* fixed height for Sankey chart */
  width: 100%;
  padding: 0 40px;  /* Added left and right padding */
  box-sizing: border-box;  /* ensures padding is included within width */
}

#sankeyChart {
  height: 100% !important;
  width: 100% !important;
}

/* Container for MCA Chart only */
.mca-chart-container {
  position: relative;
  height: 500px;  /* fixed height for MCA chart */
  width: 100%;
  padding: 0 40px;  /* Added horizontal padding */
  box-sizing: border-box;
}

#mcaSankeyChart {
  height: 100% !important;
  width: 100% !important;
}

/* MCA container now has no fixed height and no overflow restriction.
   Added horizontal padding for the table as well */
.mca-container {
  width: 100%;
  padding: 0 40px;  /* Added left/right padding */
  box-sizing: border-box;
  overflow: visible;
  margin-top: 20px; /* Optional spacing */
}

/* Add padding to the Scenarios container as well */
.scenarios-container {
  width: 100%;
  padding: 0 40px;  /* Added horizontal padding */
  box-sizing: border-box;
}


</style>


  </head>
  <body>
    <div class="columnheader_logo-one">
      <!-- header navigation section -->

      {% include "navbar.html" %}

      <div class="columnvectorfif-1">
        <!-- hero banner section -->
        <div class="stackvectorfift-2">
          <div class="section container-xs">
            <img src="{% static 'images/img_rectangle_156.png' %}" alt="Thumbnail" class="scenario-analysis__image-1" />
          </div>
          <img src="{% static 'images/img_vector_59_1.png' %}" alt="Vector Image" class="scenario-analysis__image" />
          <div class="rowvectorsixty">
            <img
              src="{% static 'images/img_vector_60_lime_100.svg' %}"
              alt="Vector Image 1"
              class="rowvectorsixty__image--lime"
            />
            <img
              src="{% static 'images/img_vector_61_lime_100.svg' %}"
              alt="Vector Image 2"
              class="rowvectorsixty__image--lime-1"
            />
          </div>
          <div class="scenario-analysis container-xs">
            <p class="scenario-analysis__title ui text size-text5xl">Scenario Analysis</p>
            <div class="scenario-analysis__content">
              <div class="scenario-analysis__row-1">
                <div class="scenario-analysis__sub-row">
                  <div class="scenario-analysis__icon-row">
                    <img
                      src="{% static 'images/img_vector_62_orange_300.svg' %}"
                      alt="Vector Image"
                      class="scenario-analysis__icon--vector"
                    />
                    <img
                      src="{% static 'images/img_settings_orange_300.svg' %}"
                      alt="Settings Image"
                      class="scenario-analysis__icon--settings"
                    />
                  </div>
                  <div class="scenario-analysis__selection-row">
                    <img
                      src="{% static 'images/img_ellipse_50_62x62.png' %}"
                      alt="Ellipse Image"
                      class="scenario-analysis__icon--ellipse"
                    />
                    <div class="scenario-analysis__selection-column">
                      <p class="scenario-analysis__text ui text size-textxl">Please select a residue stream</p>
                      <select
                      id="residueStream" class="scenario-analysis__dropdown ui selectbox white_a700 size-sm fill"
                        name="Dropdown Select"
                      >
                        <option value="option1">Option 1 - Energy Flow</option>
                        <option value="option2">Option 2 - Material Flow</option>
                        <option value="option3">Option 3 - Waste Flow</option>
                      </select>
                    </div>
                  </div>
                  <div class="scenario-analysis__icon-row--small">
                    <img
                      src="{% static 'images/img_ellipse_52_28x28.png' %}"
                      alt="Small Ellipse Image"
                      class="scenario-analysis__icon--ellipse-small"
                    />
                    <img
                      src="{% static 'images/img_ellipse_51_26x26.png' %}"
                      alt="Tiny Ellipse Image"
                      class="scenario-analysis__icon--ellipse-smaller"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container text-center mt-0 p-0">  <!-- Removed top margin and padding -->
          <h3 class="mb-2" style="margin-top: 0;">Explore Analysis Tools</h3>  <!-- Reduced bottom margin for the heading -->
          <div class="btn-group">
            <a href="#sankey" class="btn btn-custom mr-2" onclick="showSankeyDiagram()">Sankey Diagrams</a>
            <a href="#mca" class="btn btn-custom mr-2" onclick="showMCADiagram()">MCA</a>
            <a href="#scenarios" class="btn btn-custom" onclick="showScenarios()">Scenarios</a>
          </div>
        </div>
        <!-- content analysis section -->
       <!-- Chart.js canvas -->
      <div class="chart-container">
        <div id="sankey-text-container" class="text-description mt-4 mb-4">
        </div>
        <canvas id="sankeyChart"></canvas>
      </div>

            <!-- MCA Analysis Sankey and Data Table (Hidden by default) -->
            <div class="mca-container" style="display: none;">
              <div id="mca-text-container" class="text-description mt-4 mb-4">
                <!-- Text will be dynamically inserted here by JavaScript -->
              </div>
              <!-- NEW: Wrap the MCA canvas inside its own container -->
              <div class="mca-chart-container">
                <canvas id="mcaSankeyChart"></canvas>
              </div>
              <table class="table table-striped data-table">
                <thead>
                  <tr>
                    <th>Source</th>
                    <th>Target</th>
                    <th>Unit</th>
                    <th>Value</th>
                    <th>Time Step</th>
                    <th>Link Label</th>
                  </tr>
                </thead>
                <tbody id="mcaTableBody">
                  <!-- Table rows will be dynamically added here -->
                </tbody>
              </table>
            </div>


        <!-- Scenarios Analysis Container (hidden by default) -->
        <div class="scenarios-container" style="display: none;">
          <div id="scenarios-text-container" class="text-description mt-4 mb-4">
            <!-- Text will be dynamically inserted here by JavaScript -->
          </div>
          <div class="row">
            <div class="col-md-4">
              <img src="{% static 'images/scenario1_option1.jpg' %}" alt="Scenario 1" class="img-fluid">
            </div>
            <div class="col-md-4">
              <img src="{% static 'images/scenario2_option1.jpg' %}" alt="Scenario 2" class="img-fluid">
            </div>
            <div class="col-md-4">
              <img src="{% static 'images/scenario3_option1.jpg' %}" alt="Scenario 3" class="img-fluid">
            </div>
          </div>
        </div>


      </div>

      {% include "footer.html" %}

    </div>
    <!-- Reference the external sankey-diagram.js file -->
    <script src="{% static 'js/sankey-diagram.js' %}"></script>
    <script src="{% static 'js/mca-diagram.js' %}"></script>
    <script src="{% static 'js/scenarios.js' %}"></script>

  </body>
</html>
